<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Profile | Amazon</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
      integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link rel="stylesheet" href="../css/styles.css" />
    <style>
      .user-banner {
        position: relative;
        display: block;
        width: 100%;
        height: 300px;
        object-fit: cover;
      }

      .acc-userimg {
        position: relative;
        width: 140px;
        height: 140px;
        border-radius: 50%;
        margin-top: -100px;
        border: 5px solid rgb(10, 11, 13);
        object-fit: cover;
      }

      .acc-username {
        position: relative;
        color: black;
        font-size: 25px;
        text-decoration: none;
        top: -60px;
      }

      /* Table styles */
      table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 20px;
      }

      th,
      td {
        padding: 10px;
        text-align: left;
        border-bottom: 1px solid #ddd;
      }

      th {
        background-color: #f2f2f2;
        font-weight: bold;
      }

      tbody tr:nth-child(even) {
        background-color: #f2f2f2;
      }
    </style>
  </head>
  <body>
    <%- navbar %>
    <!-- User banner and image -->
    <img
      id="userbannerdiv"
      style="object-fit: cover; background-color: transparent"
      src="https://wallpapercave.com/wp/wp6340540.jpg"
      class="user-banner"
    />
    <img src="https://picsum.photos/200/300/?blur=2" class="acc-userimg" />
    <a class="acc-username">@<%= user.username %></a>
    <br /><br />
    <!-- Orders -->
    <div>Orders:</div>
    <% if (user.orders && user.orders.length > 0) { %>
    <table>
      <thead>
        <tr>
          <th>Order ID</th>
          <th>Progress</th>
          <th>Total Amount</th>
          <th>Total Items</th>
        </tr>
      </thead>
      <tbody>
        <% user.orders.forEach(order => { %>
        <tr>
          <td><%= order.id %></td>
          <td>In Progress</td>
          <td>$<%= order.totalAmount %></td>
          <td><%= order.totalitems %></td>
        </tr>
        <% }); %>
      </tbody>
    </table>
    <% } else { %>
    <p>No past orders</p>
    <% } %>
  </body>
</html>
